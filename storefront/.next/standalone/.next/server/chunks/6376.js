"use strict";exports.id=6376,exports.ids=[6376],exports.modules={7369:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i.Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},2890:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.d(t,{N:()=>g});var n=r(997);r(6689);var s=r(1467),a=r(8081),c=r(6215),o=r(3345),l=r(1352),d=r(7369),u=r(9290),h=r(575),m=r(1377),x=r(2750),p=r(999),j=r(4115),y=e([s,a,c,o,x,p,j]);[s,a,c,o,x,p,j]=y.then?(await y)():y;let g=({code:e,order:t})=>{let{t:r}=(0,m.useTranslation)("checkout"),i=t?.currencyCode||h.NE.USD,j=t?.discounts?.reduce((e,t)=>e-t.amountWithTax,0)??0,y=t?.state;return n.jsx(w,{column:!0,w100:!0,gap:"2.5rem",children:(0,n.jsxs)(s.K,{column:!0,gap:"4rem",children:[(0,n.jsxs)(s.K,{justifyBetween:!0,w100:!0,gap:"2rem",children:[(0,n.jsxs)(s.K,{w100:!0,column:!0,gap:"4rem",children:[(0,n.jsxs)(s.K,{itemsCenter:!0,gap:"2rem",children:["Cancelled"===y?n.jsx(l.Z,{color:"red",size:44}):n.jsx(d.Z,{color:"green",size:44}),n.jsx(a.r1,{children:r("orderSummary.title")})]}),n.jsx(a.TP,{size:"2rem",children:"Cancelled"===y?n.jsx(m.Trans,{values:{code:e},components:{1:n.jsx("strong",{})},i18nKey:"confirmation.orderCancelled",t:r}):n.jsx(m.Trans,{i18nKey:"confirmation.orderReceived",t:r,values:{code:e},components:{1:n.jsx("strong",{})}})})]}),"Cancelled"!==y&&(0,n.jsxs)(s.K,{w100:!0,column:!0,gap:"1rem",children:[(0,n.jsxs)(s.K,{justifyBetween:!0,children:[n.jsx(a.TP,{children:r("orderSummary.subtotal")}),n.jsx(a.TP,{weight:600,children:(0,u.L)(t?.subTotalWithTax||0,i)})]}),(0,n.jsxs)(s.K,{justifyBetween:!0,children:[n.jsx(a.TP,{children:r("orderSummary.discount")}),n.jsx(a.TP,{weight:600,children:(0,u.L)(j,i)})]}),(0,n.jsxs)(s.K,{justifyBetween:!0,children:[n.jsx(a.TP,{children:r("orderSummary.shipping")}),(0,n.jsxs)(a.TP,{weight:600,children:[" ",(0,u.L)(t?.shippingWithTax||0,i)]})]}),t?.discounts&&t?.discounts.length>0?n.jsx(c.i,{}):null,n.jsx(x.p,{withLabel:!0,discounts:t?.discounts,currencyCode:i}),n.jsx(c.i,{}),(0,n.jsxs)(s.K,{justifyBetween:!0,children:[n.jsx(a.TP,{children:r("orderSummary.total")}),n.jsx(a.TP,{weight:600,children:(0,u.L)((t?.totalWithTax??0)-j,i)})]})]})]}),n.jsx(c.i,{marginBlock:"4rem"}),t?.lines.map(e=>{let t=e.productVariant.name.includes(e.productVariant.product.name);return n.jsxs(s.K,{column:!0,children:[n.jsxs(s.K,{justifyBetween:!0,children:[n.jsxs(s.K,{gap:"3rem",children:[n.jsx(o.qN,{src:e.featuredAsset?.preview,size:"thumbnail-big",alt:e.productVariant.name,title:e.productVariant.name}),n.jsxs(s.K,{column:!0,children:[n.jsx(a.TP,{size:"2rem",weight:600,style:{paddingBottom:"2rem"},children:t?e.productVariant.name:`${e.productVariant.product.name} ${e.productVariant.name}`}),n.jsxs(s.K,{gap:"0.75rem",children:[n.jsxs(a.TP,{size:"1.5rem",children:[r("orderSummary.quantity")," "]}),n.jsx(a.TP,{size:"1.5rem",weight:500,children:e.quantity})]})]})]}),n.jsx(p.tA,{currencyCode:i,price:e.unitPriceWithTax,discountPrice:e.discountedLinePriceWithTax/e.quantity,quantity:e.quantity})]}),n.jsx(c.i,{style:{marginBlock:"3rem"}})]},e.productVariant.name)})]})})},w=(0,j.default)(s.K)`
    margin: 12rem 0 0 0;
`;i()}catch(e){i(e)}})},6073:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.d(t,{j:()=>j});var n=r(997),s=r(6689),a=r(9556),c=r(4979),o=r(4411),l=r(2890),d=r(7354),u=r(6263),h=r(1377),m=r(6062),x=r(4115),p=e([o,l,d,u,x]);[o,l,d,u,x]=p.then?(await p)():p;let j=e=>{let t=(0,m.v)(),{t:r}=(0,h.useTranslation)("checkout"),[i,x]=(0,s.useState)(e.orderByCode),p=(0,d.E4)();return(0,s.useEffect)(()=>{let r=0,n=async()=>{try{let{orderByCode:r}=await (0,a.e4)(t)({orderByCode:[{code:e.code},c.rK]});if(r&&!r.active)x(r);else throw Error("Order not found")}catch(e){++r<=3?setTimeout(n,1e3):p("/")}};!i&&e.code&&n()},[]),n.jsx(o.Ar,{categories:e.collections,navigation:e.navigation,pageTitle:`${r("seoTitles.confirmation")}`,children:i?n.jsx(y,{children:n.jsx(l.N,{code:e.code,order:i})}):n.jsx(y,{children:n.jsx(u.Kq,{w100:!0,justifyCenter:!0,itemsCenter:!0,children:n.jsx(u.TP,{children:r("confirmation.orderNotFound")})})})})},y=(0,x.default)(u.OO)`
    position: relative;
`;i()}catch(e){i(e)}})},1254:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.d(t,{N:()=>u});var n=r(9556),s=r(4979),a=r(4039),c=r(4378),o=r(7354),l=r(2254),d=e([o]);o=(d.then?(await d)():d)[0];let u=async e=>{let t=await (0,c.S9)(["common","checkout"])(e),r=(0,o.wb)(e);if(r)return r;let i=(0,o.Pf)("/")(e),d=(0,n.bw)(e),u=await (0,a.b)(t.context),h=(0,l.w)(u),m=e.params?.code;if(!m)return i;try{let{orderByCode:e}=await d({orderByCode:[{code:m},s.rK]});if(!e||e.active)throw Error(`Order not ready yet ${m}`);let r={...t.props,...t.context,collections:u,code:m,orderByCode:e,navigation:h};return{props:r}}catch(e){return{props:{...t.props,...t.context,collections:u,code:m,navigation:h,orderByCode:null}}}};i()}catch(e){i(e)}})},4039:(e,t,r)=>{r.d(t,{b:()=>a});var i=r(9556),n=r(4979),s=r(575);let a=async e=>{let t=await (0,i.af)(e)({collections:[{options:{filter:{slug:{notEq:"search"}}}},{items:n.u0}]}),r=[];try{r=await Promise.all(t.collections.items.map(async t=>{let r=await (0,i.af)(e)({collection:[{slug:t.slug},{productVariants:[{options:{take:4,sort:{createdAt:s.As.ASC}}},{totalItems:!0,items:n.$b}]}]});return{...t,productVariants:r.collection?.productVariants}}))}catch(e){r=[]}let a=t.collections.items.map(e=>{let t=r.length?r.find(t=>t.id===e.id):{productVariants:{items:[],totalItems:0}};return{...e,productVariants:t?.productVariants}});return a}},6376:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.r(t),r.d(t,{default:()=>o,getServerSideProps:()=>a.N});var n=r(997);r(6689);var s=r(6073),a=r(1254),c=e([s,a]);[s,a]=c.then?(await c)():c;let o=e=>n.jsx(s.j,{...e});i()}catch(e){i(e)}})},2254:(e,t,r)=>{r.d(t,{w:()=>i});function i(e){let t={},r=[];for(let r of e)t[r.id]={...r,children:[]};for(let i of e){let e=t[i.id],n=i.parentId;if(null===n)r.push(e);else{let i=t[n];i?i.children.push(e):r.push(e)}}let i=r.length?r[0].parentId:null;return{children:r,id:i}}}};