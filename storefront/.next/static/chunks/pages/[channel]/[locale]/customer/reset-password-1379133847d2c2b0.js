(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2524],{2297:function(r,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[channel]/[locale]/customer/reset-password",function(){return n(7859)}])},394:function(r,e,n){"use strict";n.d(e,{Yb:function(){return l},e2:function(){return w},fb:function(){return p},l0:function(){return h},n5:function(){return m},te:function(){return g}});var t=n(2729),o=n(1467),s=n(6829);function i(){let r=(0,t._)(["\n    width: 100%;\n    min-height: calc(100vh - 6rem);\n    flex-direction: column;\n    gap: 3.5rem;\n    justify-content: center;\n    align-items: center;\n\n    @media (max-width: ",") {\n        min-height: 60vh;\n    }\n"]);return i=function(){return r},r}function a(){let r=(0,t._)(["\n    position: relative;\n    padding: 5.5rem 7.5rem;\n    border-radius: ",";\n    box-shadow: 0 0 0.5rem ",";\n"]);return a=function(){return r},r}function u(){let r=(0,t._)(["\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n    min-width: 27.5rem;\n    max-width: 27.5rem;\n"]);return u=function(){return r},r}function c(){let r=(0,t._)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    padding: 1rem;\n"]);return c=function(){return r},r}function d(){let r=(0,t._)(["\n    min-width: 32rem;\n    max-width: 40rem;\n"]);return d=function(){return r},r}function f(){let r=(0,t._)(["\n    min-height: calc(100vh - 10rem);\n    padding: 2rem 0;\n\n    @media (max-width: ",") {\n        flex-direction: column;\n    }\n"]);return f=function(){return r},r}let l=(0,s.Z)(o.K)(i(),r=>{let{theme:e}=r;return e.breakpoints.lg}),m=(0,s.Z)(o.K)(a(),r=>{let{theme:e}=r;return e.borderRadius},r=>{let{theme:e}=r;return e.shadow}),h=s.Z.form(u()),w=(0,s.Z)(o.K)(c()),p=(0,s.Z)(o.K)(d()),g=(0,s.Z)(o.K)(f(),r=>{let{theme:e}=r;return e.breakpoints.lg})},6002:function(r,e,n){"use strict";n.d(e,{d:function(){return g}});var t=n(5893),o=n(399);n(7294);var s=n(2520),i=n(7536),a=n(8803),u=n(1511),c=n(9689),d=n(7354),f=n(394),l=n(7951),m=n(1604),h=n(6312),w=n(8081),p=n(6062);let g=r=>{let e=(0,p.v)(),{t:n}=(0,l.$G)("customer"),{t:g}=(0,l.$G)("common"),v=m.z.object({password:m.z.string().min(8,g("errors.password.minLength")).max(25,g("errors.password.maxLength")),confirmPassword:m.z.string().min(8,g("errors.password.minLength")).max(25,g("errors.password.maxLength"))}).refine(r=>r.password===r.confirmPassword,{message:g("errors.confirmPassword.mustMatch"),path:["confirmPassword"]}),{register:x,handleSubmit:_,formState:{errors:y,isSubmitting:b},setError:E}=(0,i.cI)({resolver:(0,h.F)(v)}),P=(0,d.E4)(),j=async n=>{try{let{resetPassword:t}=await (0,a.Zs)(e)({resetPassword:[{password:n.password,token:r.token},{__typename:!0,"...on CurrentUser":{id:!0},"...on NativeAuthStrategyError":{errorCode:!0,message:!0},"...on NotVerifiedError":{errorCode:!0,message:!0},"...on PasswordResetTokenExpiredError":{errorCode:!0,message:!0},"...on PasswordResetTokenInvalidError":{errorCode:!0,message:!0},"...on PasswordValidationError":{errorCode:!0,message:!0,validationErrorMessage:!0}}]});if("CurrentUser"===t.__typename){P("/customer/sign-in");return}E("root",{message:g("errors.backend.".concat(t.errorCode))})}catch(r){E("root",{message:g("errors.backend.UNKNOWN_ERROR")})}};return(0,t.jsx)(o.Ar,{categories:r.collections,navigation:r.navigation,pageTitle:n("resetPasswordTitle"),children:(0,t.jsx)(s.O,{children:(0,t.jsxs)(f.Yb,{children:[(0,t.jsx)(f.e2,{w100:!0,children:(0,t.jsx)(u.jL,{error:y.root,clearErrors:()=>E("root",{message:void 0})})}),(0,t.jsx)(w.TP,{weight:600,children:n("resetPasswordTitle")}),(0,t.jsx)(f.n5,{column:!0,itemsCenter:!0,gap:"1.75rem",children:(0,t.jsx)(f.fb,{w100:!0,column:!0,itemsCenter:!0,gap:"1.75rem",children:(0,t.jsxs)(f.l0,{onSubmit:_(j),children:[(0,t.jsx)(u.II,{error:y.password,label:n("newPassword"),type:"password",...x("password")}),(0,t.jsx)(u.II,{error:y.confirmPassword,label:n("confirmNewPassword"),type:"password",...x("confirmPassword")}),(0,t.jsx)(c.zx,{loading:b,type:"submit",children:n("resetPassword")})]})})})]})})})}},7859:function(r,e,n){"use strict";n.r(e),n.d(e,{__N_SSP:function(){return s}});var t=n(5893);n(7294);var o=n(6002),s=!0;e.default=r=>(0,t.jsx)(o.d,{...r})},6312:function(r,e,n){"use strict";n.d(e,{F:function(){return d}});var t=n(7536),o=function(r,e,n){if(r&&"reportValidity"in r){var o=(0,t.U2)(n,e);r.setCustomValidity(o&&o.message||""),r.reportValidity()}},s=function(r,e){var n=function(n){var t=e.fields[n];t&&t.ref&&"reportValidity"in t.ref?o(t.ref,n,r):t.refs&&t.refs.forEach(function(e){return o(e,n,r)})};for(var t in e.fields)n(t)},i=function(r,e){e.shouldUseNativeValidation&&s(r,e);var n={};for(var o in r){var i=(0,t.U2)(e.fields,o),c=Object.assign(r[o]||{},{ref:i&&i.ref});if(u(e.names||Object.keys(r),o)){var d=Object.assign({},a((0,t.U2)(n,o)));(0,t.t8)(d,"root",c),(0,t.t8)(n,o,d)}else(0,t.t8)(n,o,c)}return n},a=function(r){return Array.isArray(r)?r.filter(Boolean):[]},u=function(r,e){return r.some(function(r){return r.startsWith(e+".")})},c=function(r,e){for(var n={};r.length;){var o=r[0],s=o.code,i=o.message,a=o.path.join(".");if(!n[a]){if("unionErrors"in o){var u=o.unionErrors[0].errors[0];n[a]={message:u.message,type:u.code}}else n[a]={message:i,type:s}}if("unionErrors"in o&&o.unionErrors.forEach(function(e){return e.errors.forEach(function(e){return r.push(e)})}),e){var c=n[a].types,d=c&&c[o.code];n[a]=(0,t.KN)(a,e,n,s,d?[].concat(d,o.message):o.message)}r.shift()}return n},d=function(r,e,n){return void 0===n&&(n={}),function(t,o,a){try{return Promise.resolve(function(o,i){try{var u=Promise.resolve(r["sync"===n.mode?"parse":"parseAsync"](t,e)).then(function(r){return a.shouldUseNativeValidation&&s({},a),{errors:{},values:n.raw?t:r}})}catch(r){return i(r)}return u&&u.then?u.then(void 0,i):u}(0,function(r){if(null!=r.errors)return{values:{},errors:i(c(r.errors,!a.shouldUseNativeValidation&&"all"===a.criteriaMode),a)};throw r}))}catch(r){return Promise.reject(r)}}}}},function(r){r.O(0,[5006,7152,399,9774,2888,179],function(){return r(r.s=2297)}),_N_E=r.O()}]);