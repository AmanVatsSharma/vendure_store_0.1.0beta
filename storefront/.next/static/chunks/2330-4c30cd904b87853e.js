"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2330],{8621:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},8761:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r.Z)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]])},394:function(e,n,t){t.d(n,{Yb:function(){return h},e2:function(){return p},fb:function(){return f},l0:function(){return g},n5:function(){return m},te:function(){return x}});var r=t(2729),i=t(1467),a=t(6829);function s(){let e=(0,r._)(["\n    width: 100%;\n    min-height: calc(100vh - 6rem);\n    flex-direction: column;\n    gap: 3.5rem;\n    justify-content: center;\n    align-items: center;\n\n    @media (max-width: ",") {\n        min-height: 60vh;\n    }\n"]);return s=function(){return e},e}function l(){let e=(0,r._)(["\n    position: relative;\n    padding: 5.5rem 7.5rem;\n    border-radius: ",";\n    box-shadow: 0 0 0.5rem ",";\n"]);return l=function(){return e},e}function o(){let e=(0,r._)(["\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n    min-width: 27.5rem;\n    max-width: 27.5rem;\n"]);return o=function(){return e},e}function c(){let e=(0,r._)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    padding: 1rem;\n"]);return c=function(){return e},e}function d(){let e=(0,r._)(["\n    min-width: 32rem;\n    max-width: 40rem;\n"]);return d=function(){return e},e}function u(){let e=(0,r._)(["\n    min-height: calc(100vh - 10rem);\n    padding: 2rem 0;\n\n    @media (max-width: ",") {\n        flex-direction: column;\n    }\n"]);return u=function(){return e},e}let h=(0,a.Z)(i.K)(s(),e=>{let{theme:n}=e;return n.breakpoints.lg}),m=(0,a.Z)(i.K)(l(),e=>{let{theme:n}=e;return n.borderRadius},e=>{let{theme:n}=e;return n.shadow}),g=a.Z.form(o()),p=(0,a.Z)(i.K)(c()),f=(0,a.Z)(i.K)(d()),x=(0,a.Z)(i.K)(u(),e=>{let{theme:n}=e;return n.breakpoints.lg})},4639:function(e,n,t){t.d(n,{O:function(){return y}});var r=t(2729),i=t(5893),a=t(8297),s=t(1467),l=t(8081),o=t(9689),c=t(8803),d=t(7354),u=t(6062),h=t(6829),m=t(2951),g=t(7951),p=t(1163);function f(){let e=(0,r._)(["\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 2px;\n    background-color: ",";\n"]);return f=function(){return e},e}function x(){let e=(0,r._)(["\n    width: fit-content;\n    margin-top: 2rem;\n    display: flex;\n    align-items: center;\n    text-transform: uppercase;\n\n    @media (min-width: ",") {\n        margin-top: 0;\n    }\n"]);return x=function(){return e},e}function v(){let e=(0,r._)(["\n    position: relative;\n    border: 1px solid ",";\n    padding: 1.6rem 2.4rem;\n    height: 100%;\n    &:hover {\n        & > p {\n            opacity: 0.7;\n        }\n    }\n    transition: opacity 0.3s ease-in;\n"]);return v=function(){return e},e}t(7294);let w=[{href:"/customer/manage",sub:[""],label:"navigation.manageAccount"},{href:"/customer/manage/addresses",sub:[""],label:"navigation.manageAddresses"},{href:"/customer/manage/orders",sub:["/customer/manage/orders/[code]"],label:"navigation.manageOrders"}],y=()=>{let e=(0,u.v)(),{t:n}=(0,g.$G)("customer"),{pathname:t}=(0,p.useRouter)(),r=(0,d.E4)(),a=async()=>{await (0,c.Zs)(e)({logout:{success:!0}}),r("/")},h=t.replace("/[channel]","");return(0,i.jsx)(k,{w100:!0,children:(0,i.jsxs)(s.K,{children:[w.map(e=>(0,i.jsx)(s.K,{column:!0,children:(0,i.jsxs)(b,{href:e.href,children:[(0,i.jsx)(l.TP,{children:n(e.label)}),(0,i.jsx)(j,{initial:{width:0},animate:{width:h===e.href||e.sub.includes(h)?"100%":"0%"},exit:{width:0},transition:{duration:.3}})]})},e.href)),(0,i.jsx)(o.zx,{onClick:a,children:(0,i.jsx)(l.TP,{upperCase:!0,color:"contrast",children:n("navigation.logout")})})]})})},j=(0,h.Z)(m.E.div)(f(),e=>e.theme.button.back),k=(0,h.Z)(s.K)(x(),e=>{let{theme:n}=e;return n.breakpoints.lg}),b=(0,h.Z)(a.r)(v(),e=>e.theme.gray(100))},2330:function(e,n,t){t.d(n,{n:function(){return U}});var r=t(2729),i=t(5893),a=t(399),s=t(7294),l=t(4639),o=t(8803),c=t(4979),d=t(1467),u=t(2520),h=t(8081),m=t(575),g=t(6829),p=t(9689),f=t(1511),x=t(7951),v=t(8297),w=t(3798),y=t(3345),j=t(4297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let k=(0,j.Z)("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),b=(0,j.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);var P=t(9539);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let Z=(0,j.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),z=(0,j.Z)("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);var K=t(8621),C=t(8761);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let T=(0,j.Z)("Container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]);var S=t(1197);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let _=(0,j.Z)("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),M=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;switch(e){case"Created":return(0,i.jsx)(k,{size:n});case"Draft":case"Modifying":return(0,i.jsx)(b,{size:n});case"AddingItems":return(0,i.jsx)(P.Z,{size:n});case"Cancelled":return(0,i.jsx)(Z,{size:n});case"ArrangingPayment":return(0,i.jsx)(z,{size:n});case"PaymentAuthorized":case"PaymentSettled":case"ArrangingAdditionalPayment":return(0,i.jsx)(K.Z,{size:n});case"PartiallyShipped":case"Shipped":return(0,i.jsx)(C.Z,{size:n});case"PartiallyDelivered":return(0,i.jsx)(T,{size:n});case"Delivered":return(0,i.jsx)(S.Z,{size:n});default:if(e.includes("Payment"))return(0,i.jsx)(K.Z,{size:n});if(e.includes("Shipped"))return(0,i.jsx)(C.Z,{size:n});if(e.includes("Delivered"))return(0,i.jsx)(S.Z,{size:n});return(0,i.jsx)(_,{size:n})}};var A=t(4597);function O(){let e=(0,r._)(["\n    font-size: ",";\n    font-weight: 500;\n"]);return O=function(){return e},e}let q=e=>{let{state:n,size:t="small",column:r,withoutText:a,itemsCenter:s,itemsEnd:l=!0}=e,{t:o}=(0,x.$G)("common");return(0,i.jsxs)(A.Kq,{w100:!0,itemsEnd:l,itemsCenter:s,gap:"0.5rem",column:r,children:[(0,i.jsx)(A.Kq,{justifyCenter:!0,itemsCenter:!0,children:M(n,"small"===t?20:"medium"===t?30:40)}),!a&&(0,i.jsx)(E,{v:t,weight:500,children:o("orderStates.".concat(n))})]})},E=(0,g.Z)(A.TP)(O(),e=>"small"===e.v?"1rem":"medium"===e.v?"1.25rem":"1.5rem"),I=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date",t="string"==typeof e?new Date(e):e;return"date"===n?t.toISOString().split("T")[0]:"time"===n?t.toISOString().split("T")[1].split(".")[0]:"datetime"===n?t.toISOString().split(".")[0]:t.toISOString()};var H=t(2951);function D(){let e=(0,r._)(["\n    position: relative;\n    color: ",";\n"]);return D=function(){return e},e}function V(){let e=(0,r._)(["\n    padding: 1.75rem 1rem;\n    border: 1px solid ",";\n    box-shadow: 0 0 0.75rem ",";\n"]);return V=function(){return e},e}function G(){let e=(0,r._)(["\n    @media (max-width: ",") {\n        width: 100%;\n    }\n    width: 50%;\n    padding: 1rem 0;\n    position: relative;\n"]);return G=function(){return e},e}let Q=e=>{var n;let{order:t}=e,{t:r}=(0,x.$G)("customer");return(0,i.jsx)(N,{children:(0,i.jsxs)(B,{w100:!0,itemsStart:!0,gap:"1.75rem",children:[(0,i.jsx)(d.K,{justifyBetween:!0,w100:!0,children:(0,i.jsxs)(d.K,{column:!0,w100:!0,gap:"0.75rem",children:[(0,i.jsxs)(d.K,{gap:"1.75rem",itemsStart:!0,children:[(0,i.jsx)(y.qN,{size:"thumbnail",src:null===(n=t.lines[0].featuredAsset)||void 0===n?void 0:n.preview,alt:t.lines[0].productVariant.product.name,title:t.lines[0].productVariant.product.name}),(0,i.jsxs)(d.K,{column:!0,gap:"0.5rem",children:[(0,i.jsxs)(d.K,{w100:!0,column:!0,children:[(0,i.jsxs)(h.TP,{size:"1.5rem",weight:500,children:[r("ordersPage.orderDate"),":\xa0"]}),(0,i.jsx)(h.TP,{children:I(t.createdAt)})]}),(0,i.jsxs)(d.K,{w100:!0,column:!0,children:[(0,i.jsxs)(h.TP,{size:"1.5rem",weight:500,children:[r("ordersPage.orderCode"),":\xa0"]}),(0,i.jsx)(h.TP,{children:t.code})]})]})]}),(0,i.jsxs)(d.K,{column:!0,w100:!0,gap:"0.5rem",children:[(0,i.jsxs)(d.K,{w100:!0,itemsCenter:!0,children:[(0,i.jsxs)(h.TP,{size:"1.5rem",weight:500,children:[r("ordersPage.totalQuantity"),":\xa0"]}),(0,i.jsx)(h.TP,{children:t.totalQuantity})]}),(0,i.jsxs)(d.K,{w100:!0,itemsCenter:!0,children:[(0,i.jsxs)(h.TP,{size:"1.5rem",weight:500,children:[r("ordersPage.totalItems"),":\xa0"]}),(0,i.jsx)(h.TP,{children:t.lines.length})]}),(0,i.jsxs)(d.K,{w100:!0,itemsCenter:!0,children:[(0,i.jsxs)(h.TP,{size:"1.5rem",weight:500,children:[r("ordersPage.totalPrice"),":\xa0"]}),(0,i.jsx)(w.t,{currencyCode:t.currencyCode,price:t.totalWithTax})]})]})]})}),(0,i.jsxs)(d.K,{w100:!0,column:!0,justifyBetween:!0,itemsEnd:!0,style:{height:"100%"},children:[(0,i.jsx)(q,{state:t.state,column:!0}),(0,i.jsx)(v.r,{href:"/customer/manage/orders/".concat(t.code),children:(0,i.jsx)($,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,i.jsx)(h.TP,{size:"1.5rem",weight:500,children:r("ordersPage.viewOrder")})})})]})]})},t.id)},$=(0,g.Z)(H.E.div)(D(),e=>e.theme.gray(900)),B=(0,g.Z)(d.K)(V(),e=>{let{theme:n}=e;return n.gray(100)},e=>{let{theme:n}=e;return n.shadow}),N=(0,g.Z)(d.K)(G(),e=>{let{theme:n}=e;return n.breakpoints.lg});var R=t(394),W=t(6062);function L(){let e=(0,r._)([""]);return L=function(){return e},e}function F(){let e=(0,r._)(["\n    padding: 1rem;\n"]);return F=function(){return e},e}function Y(){let e=(0,r._)(["\n    width: 100%;\n"]);return Y=function(){return e},e}function J(){let e=(0,r._)(["\n    position: relative;\n\n    max-height: 60vh;\n    overflow-y: auto;\n\n    ::-webkit-scrollbar {\n        height: 0.8rem;\n        width: 0.8rem;\n    }\n\n    ::-webkit-scrollbar-track {\n        background: transparent;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background: ",";\n        border-radius: 1rem;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n        background: ",";\n    }\n"]);return J=function(){return e},e}let U=e=>{var n,t;let r=(0,W.v)(),{t:g}=(0,x.$G)("customer"),[p,v]=(0,s.useState)(""),[w,y]=(0,s.useState)(!1),[j,k]=(0,s.useState)(!1),[b,P]=(0,s.useState)(1),Z=(0,s.useRef)(null),[z,K]=(0,s.useState)(null===(n=e.activeCustomer)||void 0===n?void 0:n.orders.items),C=async e=>{let{activeCustomer:n}=await (0,o.e4)(r)({activeCustomer:{...c.iH,orders:[{options:{take:4*b,skip:4*b-4,filter:{code:{contains:e}}}},{items:c.bQ}]}});if(!n){K([]),k(!1);return}K(n.orders.items),k(!1)};(0,s.useEffect)(()=>{if(""===p){var n;K(null===(n=e.activeCustomer)||void 0===n?void 0:n.orders.items),k(!1);return}k(!0);let t=setTimeout(()=>{C(p)},500);return()=>clearTimeout(t)},[p]);let T=async()=>{var e,n;y(!0);let{activeCustomer:t}=await (0,o.e4)(r)({activeCustomer:{...c.iH,orders:[{options:{take:4,skip:null==z?void 0:z.length,sort:{createdAt:m.As.DESC}}},{items:c.bQ,totalItems:!0}]}});if(!t){y(!1);return}K([...z||[],...t.orders.items]),P(b+1),await new Promise(e=>setTimeout(e,200)),y(!1),null===(n=Z.current)||void 0===n||n.scrollTo({top:null===(e=Z.current)||void 0===e?void 0:e.scrollHeight,behavior:"smooth"})};return(0,i.jsx)(a.Ar,{categories:e.collections,navigation:e.navigation,pageTitle:g("ordersPage.title"),children:(0,i.jsxs)(u.O,{children:[(0,i.jsx)(d.K,{w100:!0,justifyEnd:!0,children:(0,i.jsx)(l.O,{})}),(0,i.jsx)(R.te,{w100:!0,itemsStart:!0,gap:"1.75rem",children:(0,i.jsxs)(d.K,{column:!0,w100:!0,gap:"1rem",children:[(0,i.jsx)(h.TP,{size:"2.5rem",weight:600,children:g("ordersPage.title")}),(0,i.jsxs)(X,{column:!0,w100:!0,gap:"1.5rem",children:[(0,i.jsx)(f.II,{label:g("ordersPage.searchOrder"),placeholder:g("ordersPage.lookForOrder"),onChange:e=>{v(e.target.value)}}),(0,i.jsx)(et,{flexWrap:!0,w100:!0,ref:Z,children:j?(0,i.jsx)(h.TP,{children:g("ordersPage.loading")}):null==z?void 0:z.map(e=>(0,i.jsx)(Q,{order:e},e.id))}),(null===(t=e.activeCustomer)||void 0===t?void 0:t.orders.totalItems)>(null==z?void 0:z.length)&&(0,i.jsx)(ee,{w100:!0,children:(0,i.jsx)(en,{loading:w,onClick:T,children:g("ordersPage.loadMore")})})]})]})})]})})},X=(0,g.Z)(d.K)(L()),ee=(0,g.Z)(d.K)(F()),en=(0,g.Z)(p.zx)(Y()),et=(0,g.Z)(d.K)(J(),e=>{let{theme:n}=e;return n.shadow},e=>e.theme.gray(400))}}]);